<!DOCTYPE html>

<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Detalle del Préstamo</title>
    <!-- Tailwind CSS v3 with Plugins -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="/styles/app.css">
    <!-- Agrega Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style data-purpose="custom-scrollbar">
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }
    </style>
    <style data-purpose="circular-progress">
        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>

<body class="bg-slate-950 text-slate-100 font-sans antialiased min-h-screen">
    <!-- Overlay de carga -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Validando sesión...</div>
    </div>

    <div class="app-container" id="appContainer">
        <!-- BEGIN: MainContainer -->
        <main class="max-w-md mx-auto min-h-screen flex flex-col pb-8">
            <!-- BEGIN: Header -->
            <header
                class="sticky top-0 z-10 bg-slate-950/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-800">
                <div class="flex items-center gap-4">
                    <button aria-label="Volver"
                        class="p-2 rounded-full bg-slate-800 hover:bg-slate-700 transition-colors"
                        onclick="history.back()">
                        <i class="fa-solid fa-arrow-left w-6 h-6 flex items-center justify-center"></i>
                    </button>
                    <div>
                        <h1 class="text-xs font-semibold uppercase tracking-wider text-slate-500">Detalle del Préstamo
                        </h1>
                        <p class="text-lg font-bold">Yoiser López</p>
                    </div>
                </div>
            </header>
            <!-- END: Header -->
            <!-- BEGIN: SummaryCard -->
            <section class="px-6 py-6" data-purpose="loan-summary">
                <div class="bg-slate-900 rounded-3xl p-6 border border-slate-800 shadow-xl">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <span class="text-sm text-slate-400">Total Pendiente</span>
                            <h2 class="text-3xl font-bold mt-1">₡300,000.00</h2>
                        </div>
                        <!-- Circular Progress Indicator -->
                        <div class="relative flex items-center justify-center">
                            <svg class="w-16 h-16">
                                <circle class="text-slate-800" cx="32" cy="32" fill="transparent" r="24"
                                    stroke="currentColor" stroke-width="6"></circle>
                                <circle class="text-emerald-500 progress-ring__circle" cx="32" cy="32"
                                    fill="transparent" r="24" stroke="currentColor" stroke-dasharray="150.72"
                                    stroke-dashoffset="150.72" stroke-linecap="round" stroke-width="6"></circle>
                            </svg>
                            <span class="absolute text-[10px] font-bold">0%</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 pt-6 border-t border-slate-800">
                        <div class="text-center">
                            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1">Tasa</p>
                            <p class="text-sm font-semibold">12%</p>
                        </div>
                        <div class="text-center border-x border-slate-800">
                            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1">Plazo</p>
                            <p class="text-sm font-semibold">12 Meses</p>
                        </div>
                        <div class="text-center">
                            <p class="text-[10px] uppercase text-slate-500 font-bold mb-1">Cuota</p>
                            <p class="text-sm font-semibold">$850.00</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- END: SummaryCard -->
            <!-- BEGIN: InstallmentsList -->
            <section class="flex-grow px-6" data-purpose="installments-timeline">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold text-lg">Cronograma de Cuotas</h3>
                    <span class="text-xs text-slate-500">0 de 12 pagadas</span>
                </div>
                <div class="space-y-4">
                    <!-- Pending Installment (Current) -->
                    <div
                        class="flex items-center gap-4 bg-slate-800 p-4 rounded-2xl border border-yellow-500/30 ring-1 ring-yellow-500/20">
                        <div
                            class="w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center text-yellow-500">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold">Cuota #1</p>
                            <p class="text-xs text-slate-400">Vence el 15 Nov, 2023</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-white">$850.00</p>
                            <span
                                class="text-[10px] font-bold text-yellow-500 uppercase tracking-tighter">Pendiente</span>
                        </div>
                    </div>
                    <!-- Paid Installment -->
                    <!-- <div class="flex items-center gap-4 bg-slate-900/50 p-4 rounded-2xl border border-slate-800/50">
                        <div
                            class="w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500">
                            <svg class="h-5 w-5" fill="currentColor" viewbox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path clip-rule="evenodd"
                                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                    fill-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold">Cuota #8</p>
                            <p class="text-xs text-slate-500">Pagado el 15 Oct, 2023</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-emerald-400">$850.00</p>
                            <span
                                class="text-[10px] font-bold text-emerald-500 uppercase tracking-tighter">Completado</span>
                        </div>
                    </div> -->
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #2</p>
                            <p class="text-xs text-slate-600">Vence el 15 Dic, 2023</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #3</p>
                            <p class="text-xs text-slate-600">Vence el 15 Ene, 2024</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #4</p>
                            <p class="text-xs text-slate-600">Vence el 15 Ene, 2024</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #5</p>
                            <p class="text-xs text-slate-600">Vence el 15 Ene, 2024</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #6</p>
                            <p class="text-xs text-slate-600">Vence el 15 Ene, 2024</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                    <!-- Pending Installment (Future) -->
                    <div
                        class="flex items-center gap-4 bg-slate-900/30 p-4 rounded-2xl border border-slate-800/30 opacity-60">
                        <div
                            class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-600">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="flex-grow">
                            <p class="text-sm font-bold text-slate-400">Cuota #7</p>
                            <p class="text-xs text-slate-600">Vence el 15 Ene, 2024</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold text-slate-500">$850.00</p>
                            <span class="text-[10px] font-bold text-slate-600 uppercase tracking-tighter">Próxima</span>
                        </div>
                    </div>
                </div>
            </section>
            <!-- END: InstallmentsList -->
            <!-- BEGIN: ActionFooter -->
            <footer
                class="fixed bottom-0 left-0 right-0 max-w-md mx-auto p-6 bg-gradient-to-t from-slate-950 via-slate-950 to-transparent">
                <button
                    class="w-full bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-bold py-4 rounded-2xl transition-colors shadow-lg shadow-emerald-500/20 active:scale-[0.98]">
                    Pagar Cuota Actual
                </button>
            </footer>
            <!-- END: ActionFooter -->
        </main>
        <!-- END: MainContainer -->
    </div>
    <!-- END: appContainer -->

    <script type="module">
        import { validarSesion } from "/js/auth.js";

        // Validar sesión
        validarSesion({
            onUserLogged: (user) => {
                console.log('Usuario logueado:', user);
            },
            onError: () => {
                window.location.href = "/app/login.html";
            }
        });

        // Placeholder for potential interactive logic like switching tabs or expanding rows
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Loan detail view initialized');
        });
    </script>
</body>

</html>